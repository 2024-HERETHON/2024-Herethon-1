<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/create.css' %}" />
    <link rel="stylesheet" href=".\create.js" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <title>글 수정하기</title>
</head>
<body>
    <header>
        <!-- 뒤로가기 버튼 -->
        {% for category in post.category.all %}
        {% if category.name == "챌린지" %}
        <a href="{% url 'mainApp:challengeList' %}"><svg
            class="back"
            width="25"
            height="26"
            viewBox="0 0 25 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5 13C5 12.6598 5.15691 12.3387 5.42503 12.1303L16.2307 3.73069C16.7096 3.35841 17.3988 3.446 17.77 3.92633C18.1412 4.40666 18.0538 5.09784 17.5749 5.47012L7.88808 13L17.5749 20.5299C18.0538 20.9022 18.1412 21.5933 17.77 22.0737C17.3988 22.554 16.7096 22.6416 16.2307 22.2693L5.42503 13.8697C5.15691 13.6613 5 13.3402 5 13Z"
              fill="black"
            />
          </svg></a>
        {% else %}
        <a href="{% url 'mainApp:tipList' %}"><svg
            class="back"
            width="25"
            height="26"
            viewBox="0 0 25 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M5 13C5 12.6598 5.15691 12.3387 5.42503 12.1303L16.2307 3.73069C16.7096 3.35841 17.3988 3.446 17.77 3.92633C18.1412 4.40666 18.0538 5.09784 17.5749 5.47012L7.88808 13L17.5749 20.5299C18.0538 20.9022 18.1412 21.5933 17.77 22.0737C17.3988 22.554 16.7096 22.6416 16.2307 22.2693L5.42503 13.8697C5.15691 13.6613 5 13.3402 5 13Z"
              fill="black"
            />
          </svg></a>
        {% endif %}
        {% endfor %}
  
        <h2>수정하기</h2>
  
        <!-- 알림 버튼 -->
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="26"
          viewBox="0 0 25 26"
          fill="none"
        >
          <path
            d="M12.4605 19.2354H19.5542C19.8305 19.2509 20.1061 19.1954 20.3548 19.0741C20.6035 18.9529 20.8169 18.7699 20.9749 18.5427C21.1328 18.3156 21.2299 18.0517 21.2569 17.7764C21.2839 17.501 21.24 17.2233 21.1292 16.9698C20.7542 15.8365 19.2594 14.4771 19.2594 13.1396C19.2594 10.1708 19.2594 9.38959 17.7969 7.64375C17.3231 7.08238 16.7364 6.62702 16.0751 6.3073L15.2594 5.91146C15.1221 5.82941 15.0037 5.71924 14.912 5.58819C14.8202 5.45714 14.7572 5.30816 14.7271 5.15105C14.6456 4.6223 14.366 4.14436 13.9451 3.81416C13.5242 3.48395 12.9934 3.32621 12.4605 3.37292C11.9372 3.34149 11.4209 3.50627 11.0126 3.83507C10.6042 4.16386 10.3331 4.63307 10.2521 5.15105C10.2155 5.31335 10.1436 5.46561 10.0415 5.59703C9.93945 5.72844 9.80972 5.83579 9.66152 5.91146L8.8459 6.3073C8.18489 6.62714 7.59858 7.08249 7.12506 7.64375C5.66361 9.38959 5.66361 10.1708 5.66361 13.1396C5.66361 14.4771 4.23652 15.7 3.86152 16.901C3.63548 17.6271 3.51048 19.2354 5.40319 19.2354H12.4605Z"
            stroke="black"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M15.8594 19.2354C15.8686 19.6843 15.787 20.1304 15.6195 20.547C15.4519 20.9635 15.2019 21.3419 14.8844 21.6594C14.5669 21.9769 14.1886 22.2269 13.772 22.3944C13.3555 22.562 12.9093 22.6436 12.4605 22.6344C12.0115 22.6439 11.5653 22.5625 11.1487 22.395C10.7321 22.2276 10.3536 21.9775 10.0362 21.66C9.71874 21.3424 9.46882 20.9639 9.30149 20.5472C9.13416 20.1306 9.05288 19.6843 9.06254 19.2354"
            stroke="black"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </header>
  
      <form
        class="bottom"
        method="POST"
        action="{% url 'mainApp:update' post.id %}"
        enctype="multipart/form-data"
      >
      {% csrf_token %}
        <input class="title" type="text" value="{{ post.title }}" name="title">
        <img class="line" src=".\img\Line.png" alt="" />
        <select name="category" style="font-size: 10px">
          {% for category in categories %}
          <option value="{{ category.id }}">{{ category.name }}</option>
          {% endfor %}
        </select>
        <img class="selectLine" src=".\img\selectLine.png" alt="" />
  
        <!-- 내용 -->
        <div class="content">
          <textarea name="content">{{ post.content }}
          </textarea>
          {% if post.image %}
            <img width="320" height="240" src="{{ post.image.url }}" class="community_main_sec4_post_img">
          {% endif %}
        </div>
  
        <div class="fileUpload">
          <!-- 사진 업로드 -->
          <label for="file">
            <div class="btn-upload">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g filter="url(#filter0_d_0_1)">
                  <circle
                    cx="20"
                    cy="17.9203"
                    r="15.5"
                    transform="rotate(45 20 17.9203)"
                    fill="#66FF91"
                  />
                </g>
                <path
                  d="M27.5 11.4375H24.8009L23.4688 9.43781C23.4173 9.36069 23.3476 9.29748 23.2658 9.25381C23.184 9.21014 23.0927 9.18736 23 9.1875H17C16.9073 9.18736 16.816 9.21014 16.7342 9.25381C16.6524 9.29748 16.5827 9.36069 16.5312 9.43781L15.1981 11.4375H12.5C11.953 11.4375 11.4284 11.6548 11.0416 12.0416C10.6548 12.4284 10.4375 12.953 10.4375 13.5V24C10.4375 24.547 10.6548 25.0716 11.0416 25.4584C11.4284 25.8452 11.953 26.0625 12.5 26.0625H27.5C28.047 26.0625 28.5716 25.8452 28.9584 25.4584C29.3452 25.0716 29.5625 24.547 29.5625 24V13.5C29.5625 12.953 29.3452 12.4284 28.9584 12.0416C28.5716 11.6548 28.047 11.4375 27.5 11.4375ZM28.4375 24C28.4375 24.2486 28.3387 24.4871 28.1629 24.6629C27.9871 24.8387 27.7486 24.9375 27.5 24.9375H12.5C12.2514 24.9375 12.0129 24.8387 11.8371 24.6629C11.6613 24.4871 11.5625 24.2486 11.5625 24V13.5C11.5625 13.2514 11.6613 13.0129 11.8371 12.8371C12.0129 12.6613 12.2514 12.5625 12.5 12.5625H15.5C15.5927 12.5626 15.684 12.5399 15.7658 12.4962C15.8476 12.4525 15.9173 12.3893 15.9688 12.3122L17.3009 10.3125H22.6981L24.0312 12.3122C24.0827 12.3893 24.1524 12.4525 24.2342 12.4962C24.316 12.5399 24.4073 12.5626 24.5 12.5625H27.5C27.7486 12.5625 27.9871 12.6613 28.1629 12.8371C28.3387 13.0129 28.4375 13.2514 28.4375 13.5V24ZM20 14.4375C19.2212 14.4375 18.46 14.6684 17.8124 15.1011C17.1649 15.5337 16.6602 16.1487 16.3622 16.8682C16.0642 17.5877 15.9862 18.3794 16.1382 19.1432C16.2901 19.907 16.6651 20.6086 17.2158 21.1592C17.7664 21.7099 18.468 22.0849 19.2318 22.2368C19.9956 22.3888 20.7873 22.3108 21.5068 22.0128C22.2263 21.7148 22.8413 21.2101 23.2739 20.5626C23.7066 19.915 23.9375 19.1538 23.9375 18.375C23.9375 17.3307 23.5227 16.3292 22.7842 15.5908C22.0458 14.8523 21.0443 14.4375 20 14.4375ZM20 21.1875C19.4437 21.1875 18.9 21.0226 18.4375 20.7135C17.9749 20.4045 17.6145 19.9652 17.4016 19.4513C17.1887 18.9374 17.133 18.3719 17.2415 17.8263C17.3501 17.2807 17.6179 16.7796 18.0113 16.3863C18.4046 15.9929 18.9057 15.7251 19.4513 15.6165C19.9969 15.508 20.5624 15.5637 21.0763 15.7766C21.5902 15.9895 22.0295 16.3499 22.3385 16.8125C22.6475 17.275 22.8125 17.8187 22.8125 18.375C22.8125 19.1209 22.5162 19.8363 21.9887 20.3637C21.4613 20.8912 20.7459 21.1875 20 21.1875Z"
                  fill="black"
                />
                <defs>
                  <filter
                    id="filter0_d_0_1"
                    x="0.5"
                    y="0.420311"
                    width="39"
                    height="39"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset dy="2" />
                    <feGaussianBlur stdDeviation="2" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_0_1"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_0_1"
                      result="shape"
                    />
                  </filter>
                </defs>
              </svg>
            </div>
          </label>
          <input type="file" name="image" id="file">
          <!-- 파일 업로드 -->
          <label for="file">
            <div class="btn-upload">
              <svg
                width="40"
                height="40"
                viewBox="0 0 40 40"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g filter="url(#filter0_d_0_1)">
                  <circle
                    cx="20"
                    cy="17.9203"
                    r="15.5"
                    transform="rotate(45 20 17.9203)"
                    fill="#66FF91"
                  />
                </g>
                <path
                  d="M27.6154 12.9091H20.2864L17.9231 10.4264C17.795 10.2907 17.6425 10.1832 17.4744 10.11C17.3064 10.0368 17.1262 9.9994 16.9443 10H12.3846C12.0174 10 11.6652 10.1533 11.4055 10.426C11.1459 10.6988 11 11.0688 11 11.4546V24.6018C11.0005 24.9725 11.1408 25.3278 11.3903 25.59C11.6398 25.8521 11.9781 25.9995 12.331 26H27.6924C28.0391 25.9995 28.3714 25.8546 28.6165 25.5971C28.8616 25.3396 28.9995 24.9905 29 24.6264V14.3636C29 13.9779 28.8541 13.6079 28.5945 13.3351C28.3348 13.0623 27.9826 12.9091 27.6154 12.9091ZM12.3846 11.4546H16.9443L18.3289 12.9091H12.3846V11.4546ZM27.6154 24.5455H12.3846V14.3636H27.6154V24.5455Z"
                  fill="black"
                />
                <defs>
                  <filter
                    id="filter0_d_0_1"
                    x="0.5"
                    y="0.420309"
                    width="39"
                    height="39"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset dy="2" />
                    <feGaussianBlur stdDeviation="2" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_0_1"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_0_1"
                      result="shape"
                    />
                  </filter>
                </defs>
              </svg>
            </div>
          </label>
          {% if post.file %}
            기존 파일 : <a href="{{ post.file.url }}" download>다운로드 {{ post.file.name }}</a>
          {% endif %}
          <input type="file" name="file" id="file">
        </div>
        <input class="masterUpload" type="submit" value="수정하기" />
    </form>
</body>
</html>